<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
	<script type='text/javascript' src='js/lib/jquery.min.js'></script>
	<script type='text/javascript' src='js/lib/handlebars.1.0.0.beta.3.js'></script>
<!-- 	<script type='text/javascript' src='js/lib/ICanHandlebarz.js'></script> -->
	<script type='text/javascript' src='js/lib/ICanHaz.js'></script>
	
	<title>js</title>
	
	<script id="icanzremotetemplate" type="text/html" src="jsp/templates/icantemplate.html"></script>
		
	<script id="icanztemplate" type="text/html">
  <table>
    <thead>
      <th>Username</th>
      <th>Real Name</th>
      <th>Email</th>
    </thead>
    <tbody>
      {{#users}}
        <tr>
          <td>{{username}}</td>
          <td>{{firstName}} {{lastName}}</td>
          <td>{{email}}</td>
        </tr>
      {{/users}}
    </tbody>
  </table>
</script>

<script id="hbtemplate" type="text/x-handlebars-template">
  <table>
    <thead>
      <th>Username</th>
      <th>Real Name</th>
      <th>Email</th>
    </thead>
    <tbody>
      {{#users}}
        <tr>
          <td>{{username}}</td>
          <td>{{firstName}} {{lastName}}</td>
          <td>{{email}}</td>
        </tr>
      {{/users}}
    </tbody>
  </table>
</script>

<script type="text/javascript">
$(document).ready(function () {
  	
  	var data = { users: [
    	{username: "alan", firstName: "Alan", lastName: "Johnson", email: "alan@test.com" },
      	{username: "allison", firstName: "Allison", lastName: "House", email: "allison@test.com" },
      	{username: "ryan", firstName: "Ryan", lastName: "Carson", email: "ryan@test.com" }
    			]};
  	$('#icanhaz-placeholder').html(ich.icanztemplate(data));
  	
  	window.ich.grabTemplates(function() {
  		$("#placeholder").html(ich.icanzremotetemplate(data));
  	});
  	
  	
  	$("#mybutton").click(function(){
  		window.ich.grabTemplates();
  	  	});
  	})
  	
  	var source  = $('#hbtemplate').html();
  	var handlebarsCompiledTemplate = Handlebars.compile(source);
  	var handlebarsTemplate = handlebarsCompiledTemplate(data);
  	$('#handlebars-placeholder').html(handlebarsTemplate);
});
</script>	

	</head>
	<body>
	    


	
	    <h1>handlebars spike</h1>
        <ul>
			<li>bla.</li>
			<li>bla</li>
        </ul>
        <div id="icanhaz-placeholder">erase me</div>
        <div id="placeholder">erase me</div>
        <div id="handlebars-placeholder">erase me</div>
        <input type="button" id="mybutton" value="click">
	</body>
</html>