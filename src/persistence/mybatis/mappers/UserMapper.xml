<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="persistence.mybatis.mappers.UserMapper">

 
  <!--  
<cache />
-->
  
  <select id="findUserByEmail" parameterType="string" resultType="model.User">
	 <include refid="selectUser"/> where email = #{email}
  </select> 
    
   <sql id="selectUser">
  	SELECT id,name,surname,email,phone,password from user
  </sql>
  
  <update id="updateUser" parameterType="model.User" >
  	UPDATE user SET email = #{email},password = #{password}  where id = #{id}
  </update>  
  
  <insert id="insertUser" parameterType="model.User" useGeneratedKeys="true" keyProperty="id">
  	insert into user(name,surname,email,phone,password,creationDate) values(#{name},#{surname},#{email},#{phone},#{password},#{creationDate})  
  </insert>
    
</mapper>